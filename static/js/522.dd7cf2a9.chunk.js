"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[522],{5527:function(t,n,r){r.r(n),r.d(n,{default:function(){return $}});var e=r(1413),s=r(5671),o=r(3144),i=r(136),a=r(2882),u=r(2791),c=r(364),l=r(9271),d=r(7781),f=r(3464),p=r(4165),h=r(5861),m=r(4461),v=r(3757),x=function(t){return{type:v.fw,payload:{status:t}}},j="Profileinfo_profileUserCard__Bk-h0",g="Profileinfo_profileUserCardImage__4kCgn",_="Profileinfo_backgroundImage__VKJ7F",y="Profileinfo_avatar__yc+8Q",Z="Profileinfo_descriptionBlock__DV-dO",b="Profileinfo_status__tfxjw",k="Profileinfo_contacts__RvWpJ",P="Profileinfo_otherDescription__lRov8",C=r.p+"static/media/backgroundImage.522c71481d4e78bb0ace.jpg",S=r(3445),w=r(9196),F=r(885),N=r(184),A=function(t){var n=t.status,r=t.updateStatus,e=(0,u.useState)(!1),s=(0,F.Z)(e,2),o=s[0],i=s[1],a=(0,u.useState)(n),c=(0,F.Z)(a,2),l=c[0],d=c[1];(0,u.useEffect)((function(){d(n)}),[n]);return(0,N.jsxs)("div",{children:[!o&&(0,N.jsx)("div",{children:(0,N.jsx)("span",{className:b,onDoubleClick:function(){i(!0)},children:t.status||"No status"})}),o&&(0,N.jsx)("div",{children:(0,N.jsx)("input",{className:b,autoFocus:!0,onBlur:function(){i(!1),r(l)},onChange:function(t){d(t.currentTarget.value)},value:l})})]})},I=function(t){var n=t.profile,r=t.status,e=t.updateStatus;return n?(0,N.jsxs)("div",{className:j,children:[(0,N.jsxs)("div",{className:g,children:[(0,N.jsx)("img",{className:_,src:C,alt:"background image"}),(0,N.jsx)("img",{className:y,src:(null===n||void 0===n?void 0:n.photos.large)||w,alt:"profile photo"})]}),(0,N.jsxs)("div",{className:Z,children:[(0,N.jsx)("h1",{children:n.fullName}),(0,N.jsx)("p",{className:b,children:null===n||void 0===n?void 0:n.aboutMe}),(0,N.jsx)(A,{status:r,updateStatus:e}),(0,N.jsxs)("div",{className:k,children:[(0,N.jsx)("span",{children:"My contacts: "}),(0,N.jsx)("span",{children:n.contacts.website?"".concat(n.contacts.website," | "):null}),(0,N.jsx)("span",{children:n.contacts.github?"".concat(n.contacts.github," | "):null}),(0,N.jsx)("span",{children:n.contacts.facebook?"".concat(n.contacts.facebook," | "):null}),(0,N.jsx)("span",{children:n.contacts.instagram?"".concat(n.contacts.instagram," | "):null}),(0,N.jsx)("span",{children:n.contacts.mainLink?"".concat(n.contacts.mainLink," | "):null}),(0,N.jsx)("span",{children:n.contacts.twitter?"".concat(null===n||void 0===n?void 0:n.contacts.twitter," | "):null}),(0,N.jsx)("span",{children:n.contacts.vk?"".concat(null===n||void 0===n?void 0:n.contacts.vk," | "):null}),(0,N.jsx)("span",{children:n.contacts.youtube?"".concat(null===n||void 0===n?void 0:n.contacts.youtube):null})]}),(0,N.jsxs)("div",{className:P,children:[(0,N.jsx)("span",{children:"Job search: "}),(0,N.jsx)("span",{children:null===n||void 0===n?void 0:n.lookingForAJob}),(0,N.jsx)("span",{children:null===n||void 0===n?void 0:n.lookingForAJobDescription})]})]})]}):(0,N.jsx)(S.p,{})},T="MyPosts_postsBlock__zkHB8",U="MyPosts_posts__dhHo3",M="Post_item__uQCxA",D=function(t){return(0,N.jsxs)("div",{className:M,children:[(0,N.jsx)("img",{src:"https://i.pinimg.com/564x/1d/93/7f/1d937faee0026150d54b97df59c0af81.jpg"}),t.message,(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{children:"like"})," ",t.likesCount]})]})},O=r(6139),E=r(704),B=r(5298),J=r(3832),R=(0,B.D)(10),q=(0,E.Z)({form:"addPostForm"})((function(t){return(0,N.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,N.jsx)("div",{children:(0,N.jsx)(O.Z,{placeholder:"Enter your post",name:"newPostText",component:J.gx,validate:[B.C,R]})}),(0,N.jsx)("div",{children:(0,N.jsx)("button",{children:"Add post"})})]})})),z=u.memo((function(t){console.log("render");var n=t.posts.map((function(t,n){return(0,N.jsx)(D,{message:t.message,likesCount:t.likesCount},n)}));return(0,N.jsxs)("div",{className:T,children:[(0,N.jsx)("h3",{children:"My posts"}),(0,N.jsx)(q,{onSubmit:function(n){t.addPost(n.newPostText)}}),(0,N.jsx)("div",{className:U,children:n})]})})),H=(0,c.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(n){t(function(t){return{type:v.RO,newPostText:t}}(n))}}}))(z),L=function(t){var n=t.profile,r=t.status,e=t.updateStatus;return(0,N.jsxs)("div",{children:[(0,N.jsx)(I,{profile:n,status:r,updateStatus:e}),(0,N.jsx)(H,{})]})},Q=function(t){(0,i.Z)(r,t);var n=(0,a.Z)(r);function r(){return(0,s.Z)(this,r),n.apply(this,arguments)}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,N.jsx)(L,(0,e.Z)((0,e.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),r}(u.Component),$=(0,d.qC)((0,c.$j)((function(t){return{profilePage:t.profilePage,profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:function(t){return function(){var n=(0,h.Z)((0,p.Z)().mark((function n(r){var e;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.FZ.getProfile(t);case 2:e=n.sent,r((s=e.data,{type:v.cF,payload:{profile:s}}));case 4:case"end":return n.stop()}var s}),n)})));return function(t){return n.apply(this,arguments)}}()},getUserStatus:function(t){return function(){var n=(0,h.Z)((0,p.Z)().mark((function n(r){var e;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.FZ.getStatus(t);case 2:e=n.sent,r(x(e.data));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},updateStatus:function(t){return function(){var n=(0,h.Z)((0,p.Z)().mark((function n(r){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.FZ.updateStatus(t);case 2:0===n.sent.data.resultCode&&r(x(t));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}}),l.EN,f.F)(Q)},3832:function(t,n,r){r.d(n,{Gr:function(){return p},II:function(){return f},gx:function(){return d}});var e=r(6459),s=r(1413),o=r(5987),i=(r(2791),r(6139)),a=r(4912),u=r(184),c=["input","meta","FormType"],l=function(t){var n=t.input,r=t.meta,e=t.FormType,i=(0,o.Z)(t,c),l=r.error&&r.touched;return(0,u.jsxs)("div",{className:a.Z.formControl+" "+(l?a.Z.error:""),children:[(0,u.jsx)("div",{children:(0,u.jsx)(e,(0,s.Z)((0,s.Z)({},n),i))}),l&&(0,u.jsx)("span",{children:r.error})]})},d=function(t){var n=Object.assign({},((0,e.Z)(t),t));return(0,u.jsx)(l,(0,s.Z)((0,s.Z)({},n),{},{FormType:"textarea"}))},f=function(t){var n=Object.assign({},((0,e.Z)(t),t));return(0,u.jsx)(l,(0,s.Z)((0,s.Z)({},n),{},{FormType:"input"}))};function p(t,n,r,e,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,u.jsxs)("div",{className:a.Z.createFieldRoot,children:[(0,u.jsx)(i.Z,(0,s.Z)({placeholder:t,name:n,component:e,validate:r},o))," ",c]})}},3464:function(t,n,r){r.d(n,{F:function(){return l}});var e=r(1413),s=r(5987),o=r(9271),i=r(364),a=(r(2791),r(184)),u=["isAuth"],c=function(t){return{isAuth:t.auth.isAuth}};function l(t){return(0,i.$j)(c)((function(n){var r=n.isAuth,i=(0,s.Z)(n,u);return r?(0,a.jsx)(t,(0,e.Z)({},i)):(0,a.jsx)(o.l_,{to:"/login"})}))}},5298:function(t,n,r){r.d(n,{C:function(){return e},D:function(){return s}});var e=function(t){if(!t)return"Field is required"},s=function(t){return function(n){if(n&&n.length>t)return"Max length is ".concat(t," symbols")}}},4912:function(t,n){n.Z={formControl:"FormsControls_formControl__h4H4y",error:"FormsControls_error__SRO8Q",formSummaryError:"FormsControls_formSummaryError__8eZqo",blink1:"FormsControls_blink1__MPeL+"}},9196:function(t,n,r){t.exports=r.p+"static/media/defaultUserPhoto.48161ffe784f0589388e.jpg"},885:function(t,n,r){r.d(n,{Z:function(){return s}});var e=r(181);function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,s,o,i,a=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;u=!1}else for(;!(u=(e=o.call(r)).done)&&(a.push(e.value),a.length!==n);u=!0);}catch(l){c=!0,s=l}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return a}}(t,n)||(0,e.Z)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=522.dd7cf2a9.chunk.js.map